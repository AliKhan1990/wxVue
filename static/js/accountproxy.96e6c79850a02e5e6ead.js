webpackJsonp([1],{38:function(t,a,e){e(55);var o=e(1)(e(92),e(50),null,null);t.exports=o.exports},39:function(t,a,e){var o=e(1)(e(98),null,null,null);t.exports=o.exports},40:function(t,a){},41:function(t,a,e){"use strict";var o=e(8),n=e(86),i=e(42),r=e.n(i);o.a.use(n.a),a.a=new n.a({routes:[{path:"/",name:"home",component:r.a}]})},42:function(t,a,e){e(52);var o=e(1)(e(93),e(47),null,null);t.exports=o.exports},43:function(t,a,e){var o=e(1)(e(94),null,null,null);t.exports=o.exports},44:function(t,a,e){var o=e(1)(e(95),null,null,null);t.exports=o.exports},45:function(t,a,e){e(53);var o=e(1)(e(96),e(48),"data-v-bcb2bbfa",null);t.exports=o.exports},46:function(t,a,e){e(54);var o=e(1)(e(97),e(49),"data-v-d297e1a2",null);t.exports=o.exports},47:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-accountproxy page vertical-align text-xs-center",attrs:{"data-animsition-in":"fade-in","data-animsition-out":"fade-out"}},[e("div",{staticClass:"page-content vertical-align-middle"},[e("div",{staticClass:"panel panel-accountproxy"},[e("div",{staticClass:"panel-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"alert dark alert-info alert-avatar alert-dismissible",staticStyle:{"text-align":"left"},attrs:{role:"alert"}},[t._m(0),t._v(" "),e("span",{staticClass:"avatar"},[e("img",{directives:[{name:"img-qiniu-logo",rawName:"v-img-qiniu-logo"}],attrs:{"data-url":t.display.avatar,src:"http://static.thewallet.com.cn/remark/global/portraits/5.jpg"}})]),t._v(" "),e("h4",[t._v(t._s(t.fullname))]),t._v(" "),e("p",[t._v("\n                "+t._s(t.comment)+"\n              ")])]),t._v(" "),e("hr")])]),t._v(" "),e("div",{staticClass:"brand"},[e("img",{directives:[{name:"img-qiniu-logo",rawName:"v-img-qiniu-logo"}],staticClass:"brand-img",attrs:{"data-url":t.app.iconUrl,src:"http://static.thewallet.com.cn/remark/center/assets//images/logo-blue.png",alt:"..."}}),t._v(" "),e("h2",{staticClass:"brand-text font-size-18"},[t._v(t._s(t.app.appName))])]),t._v(" "),t.loadding?e("div",{staticClass:"loader-index",staticStyle:{margin:"80px auto 20px"}},[e("div"),t._v(" "),e("div"),t._v(" "),e("div"),t._v(" "),e("div"),t._v(" "),e("div"),t._v(" "),e("div")]):t._e(),t._v(" "),t.loadding?e("p",[t._v("正在使用\n          "),e("span",{staticClass:"jump-account"},[t._v(t._s(t.account))]),t._v("登陆系统，请稍后...")]):t._e(),t._v(" "),t.showChangeBtn&&t.loadding?e("a",{staticClass:"btn-line pull-right",attrs:{href:"javascript:void(0)"},on:{click:t.changeAccount}},[t._v(" 切换用户 ")]):t._e(),t._v(" "),t.loadding?t._e():e("form",{attrs:{method:"post",action:"#",autocomplete:"off"}},[e("div",{staticClass:"form-group form-material floating",attrs:{"data-plugin":"formMaterial"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",class:t.account?"":"empty",attrs:{type:"input",name:"username"},domProps:{value:t.account},on:{input:function(a){a.target.composing||(t.account=a.target.value)}}}),t._v(" "),e("label",{staticClass:"floating-label"},[t._v("用户名")])]),t._v(" "),e("div",{staticClass:"form-group form-material floating",attrs:{"data-plugin":"formMaterial"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.password?"":"empty",attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}}),t._v(" "),e("label",{staticClass:"floating-label"},[t._v("密码")])]),t._v(" "),e("button",{staticClass:"btn btn-primary btn-block btn-lg m-t-40",attrs:{type:"button"},on:{click:t.jump}},[t._v("跳转")])])])])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{"aria-label":"Close","data-dismiss":"alert",type:"button"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}]}},48:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"site-menubar",staticStyle:{display:"none"}},[e("div",{staticClass:"site-menubar-header"}),t._v(" "),e("div",{staticClass:"site-menubar-body scrollable scrollable-inverse scrollable-vertical is-enabled",staticStyle:{position:"relative"}},[e("div",{staticClass:"scrollable-container",staticStyle:{height:"147px",width:"275px"}},[e("div",{staticClass:"scrollable-content",staticStyle:{width:"260px"}},[e("ul",{staticClass:"site-menu",attrs:{"data-plugin":"menu"}})])])])])}]}},49:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;return(t._self._c||a)("nav",{staticClass:"navbar navbar-default",staticStyle:{display:"none"},attrs:{role:"navigation"}})},staticRenderFns:[]}},50:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("NoNav"),t._v(" "),e("NoMenu"),t._v(" "),e("router-view")],1)},staticRenderFns:[]}},52:function(t,a){},53:function(t,a){},54:function(t,a){},55:function(t,a){},92:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(8),n=e(44),i=e.n(n),r=e(46),s=e.n(r),l=e(45),p=e.n(l);console.log("setGlobal"),o.a.prototype.GLOBAL=i.a,o.a._GLOBAL=i.a,a.default={name:"AccountProxyApp",data:function(){return{}},created:function(){},components:{NoNav:s.a,NoMenu:p.a}}},93:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=(e(8),e(43)),n=e.n(o);a.default={name:"AccountProxy",components:{},computed:{fullname:function(){return this.display.lastName+this.display.firstName},appkey:function(){return"300208"},comment:function(){return"即将跳转到应用"+(this.app.appName||"")+"，请填写应用的用户名和密码，用户中心将授权跳转。"}},beforeMount:function(){},beforeUpdate:function(){},mounted:function(){this.load()},data:function(){return{account:"account",password:"",loadding:!1,showChangeBtn:!0,display:{},app:{}}},methods:{load:function(){var t=this;n.a.accountProxyApi.display({appkey:this.appkey}).done(function(a){t.display=a.auth,t.app=a.appInfo,console.log(a)}).fail(function(t){console.error(t),alertify.error(t.message)})},changeAccount:function(){this.loadding=!1},jump:function(){this.loadding=!0;var t=this;this.showChangeBtn=!0,setTimeout(function(){t.showChangeBtn=!1},1e3),n.a.accountProxyApi.setAccount({account:this.account,password:this.password,appkey:this.appkey}).done(function(a){n.a.accountProxyApi.getJumpData({appkey:t.appkey}).done(function(t){var a=$("<form></form>");for(var e in t){var o=$("<input />");o.attr("type","hidden"),o.val(t[e]),o.attr("name",e),a.append(o)}a.attr("action",t.url),a.attr("method","post"),a.css("width","0"),a.css("height","0"),a.appendTo($("body")),a.submit()}).fail(function(t){console.error(t),alertify.error(t.message)})}).fail(function(t){console.error(t),alertify.error(t.message)})}},props:[]}},94:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o={fetch:!1,api:{host:"http://115.28.110.211:3001/p",methods:[{name:"queryDisplay",method:"GET",path:"/me/display",traditional:!0},{name:"logout",method:"LINK",path:"/logout",traditional:!0},{name:"changeLang",method:"POST",path:"/lang/:lang  ",traditional:!0}]},authApi:{host:"/mobile",methods:[{name:"loginInit",method:"POST",path:"/auth/login/init",traditional:!0},{name:"login",method:"POST",path:"/auth/login",traditional:!0},{name:"changeLang",method:"POST",path:"/lang/:lang  ",traditional:!0},{name:"useableOrgs",method:"GET",path:"/auth/selectOrgs",traditional:!0},{name:"selectOrg",method:"GET",path:"/auth/selectOrg/:orgID",traditional:!0},{name:"jump",method:"LINK",path:"/auth/authorization",traditional:!0}]},testApi:{host:"192.168.10.74:8080/eWallet/zhzwpt",methods:[{name:"denglu",method:"GET",path:"/login?username=zhzwuser&pass=zhzw123456",traditional:!0}]},shareApi:{host:"http://121.42.169.26:5001/api",methods:[{name:"dataTypes",method:"GET",path:"/ShareDataTypes",traditional:!0},{name:"createDataType",method:"POST",path:"/sharedatatypes",traditional:!0},{name:"updateDataType",method:"POST",path:"/sharedatatype/:_id",traditional:!0},{name:"shareDatas",method:"GET",path:"/sharedatatype/:_id/datas",traditional:!0},{name:"shareDataType",method:"GET",path:"/sharedatatype/:_id",traditional:!0},{name:"createshareData",method:"POST",path:"/sharedatatype/:id/datas",traditional:!0},{name:"updateShareData",method:"POST",path:"/sharedata/:_id",traditional:!0}]},portalApi:{host:"http://gportal.thewallet.com.cn"!==location.origin?"http://121.42.169.26:8080/eWallet":location.origin,methods:[{name:"userInfo",method:"GET",path:"/zhzwpt/userinfo",traditional:!0},{name:"isLogin",method:"GET",path:"/zhzwpt/isLogin",traditional:!0}]},companyApi:{host:"http://portal.thewallet.com.cn"!==location.origin?"http://120.27.5.58:8080/eWallet":location.origin,methods:[{name:"userInfo",method:"GET",path:"/zhzwpt/userinfo",traditional:!0},{name:"isLogin",method:"GET",path:"/zhzwpt/isLogin",traditional:!0},{name:"getCode",method:"GET",path:"/general/register/phone/code",traditional:!0},{name:"phoneRegister",method:"POST",path:"/auth/register/phone",traditional:!0},{name:"nameAndPass",method:"POST",path:"/user/nameAndPass",traditional:!0}]},zwmApi:{host:"http://115.28.128.210:3001/zwmapi",methods:[{name:"projFormViews",method:"GET",path:"/projFormViews",traditional:!0},{name:"projFormEdits",method:"GET",path:"/projFormEdits",traditional:!0},{name:"projGuides",method:"GET",path:"/projGuides",traditional:!0},{name:"projGuide",method:"GET",path:"/projGuide/:id",traditional:!0},{name:"projShareFormRe",method:"GET",path:"/projShareFormRe",traditional:!0},{name:"projFormEditLink",method:"LINK",path:"/projFormEdit/:processCoding",traditional:!0},{name:"projFormsQuery",method:"GET",path:"/projForms",traditional:!0},{name:"projUserListByRole",method:"LINK",path:"/projUserListByRole",traditional:!0},{name:"projShareViewByTaskDefKey",method:"GET",path:"/projFormView/byTaskDefKey",traditional:!0},{name:"widgetManager",method:"GET",path:"/widgets",traditional:!0},{name:"widget",method:"GET",path:"/widget/:clientID",traditional:!0}]},serverApi:{host:"http://localhost:3001/serverApi",methods:[{name:"myApps",method:"GET",path:"/me/apps",traditional:!0},{name:"myApp",method:"GET",path:"/me/app/:appkey",traditional:!0},{name:"editMyApp",method:"POST",path:"/me/app/:appkey",traditional:!0}]},accountProxyApi:{host:"http://localhost:3001/accountproxy",methods:[{name:"display",method:"GET",path:"/:appkey/display",traditional:!0},{name:"setAccount",method:"POST",path:"/:appkey/account",traditional:!0},{name:"getJumpData",method:"POST",path:"/:appkey/jumpdata",traditional:!0}]}},n=function(t,a){var e=this;this.key=t,this.conf=a,this.getParaTime=function(t){return t?"_t="+(new Date).getTime():"&_t="+(new Date).getTime()},this.registerFun=function(t){return function(a,o){if(a&&"form"==a.localName){a=$(a).serialize();var n={};a=a.split("&");for(var i=0;i<a.length;i++){var r=a[i].split("=");r&&2==r.length&&(n[r[0]]=r[1])}a=n}else if("string"==typeof a&&a.match("=")){var s={};a=a.split("?"),a=2==a.length?a[1]:a[0],a=a.split("&");for(var l=0;l<a.length;l++){var p=a[l].split("=");p&&2==p.length&&(s[p[0]]=p[1])}a=s}if("LINK"!=t.method&&"JUMP"!=t.method){var d=$,c=d.Deferred(),u=e.conf.host+t.path,h={},m=[];if(a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(h[f]=a[f],m.push(f+"="+encodeURIComponent(a[f])),u=u.replace(":"+f,a[f]));var v={type:t.method,url:u,dataType:"json",contentType:"application/x-www-form-urlencoded"};return"GET"==t.method?m.length>0&&(v.url+="?"+m.join("&")):(console.log(h),v.processData=h,v.data=h),v.url.indexOf("?")>=0?v.url+=this.getParaTime():v.url+="?"+this.getParaTime(!0),t.traditional&&(v.xhrFields={withCredentials:!0}),NProgress&&NProgress.start(),$(".md-refresh").addClass("spin"),$.ajax(v).done(function(a){if(NProgress&&NProgress.done(),$(".md-refresh").removeClass("spin"),0==a.return_code)c.resolve(a.data,a);else if(-100039==a.return_code&&t.traditional)location.href=a.data.loginUrl;else{var e=new Error(a.return_message);e.errCode=a.return_code,c.reject(e,a)}}).fail(function(t){NProgress&&NProgress.done(),$(".md-refresh").removeClass("spin"),c.reject(t)}),c}if(a=a||{},o&&$(o)){var g=$(o).data().linkParams;if(g)try{g=JSON.parse(g);for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(a[y]=g[y])}catch(t){}}var _=e.conf.host+t.path,b=[];for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&(b.push(w+"="+encodeURIComponent($.trim(a[w]))),_=_.replace(":"+w,a[w]));if(b.length>0&&(_+="?"+b.join("&")),"LINK"==t.method)return _;location.href=_}};for(var o=0;o<a.methods.length;o++){var n=a.methods[o];n&&n.name&&(e[n.name]=this.registerFun(n))}},i={};for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)){var s=o[r];s&&s.host&&(i[r]=new n(r,s))}i.socketApi={host:"http://115.28.128.210:3001/"},a.default=i},95:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o={static:"http://7xpmqq.com1.z0.glb.clouddn.com/",logo:"http://7xlcsz.com1.z0.glb.clouddn.com/"};console.log("regist global"),a.default={staticHost:"http://static.thewallet.com.cn/",qiniu:o}},96:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"nomenu",data:function(){return{}}}},97:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"nonav",data:function(){return{}}}},98:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(91),n=e.n(o),i=e(88),r=e.n(i),s=e(8);Date.prototype.format=function(t){var a={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in a)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[e]:("00"+a[e]).substr((""+a[e]).length)));return t},s.a.directive("dateformat",{inserted:function(t){var a=$(t).text();try{a=parseInt(a),console.log(a),isNaN(a)||(a=new Date(a).format("yyyy-MM-dd"),$(t).text(a))}catch(t){}}}),s.a.directive("datetimeformat",{inserted:function(t){var a=$(t).text();try{a=parseInt(a),console.log(a),isNaN(a)||(a=new Date(a).format("yyyy-MM-dd hh:mm:ss"),$(t).text(a))}catch(t){}}}),s.a.directive("json",{inserted:function(t){var a=$(t).text();try{a=JSON.parse(a),a=r()(a,4,4),console.log(a),$(t).text(a)}catch(t){}}}),s.a.directive("tableoptionup",{inserted:function(t){},bind:function(){console.log(arguments)}}),s.a.directive("op",{inserted:function(t){t=$(t);var a=$(t.parent());console.log(a[0].clientWidth),$(t).css("width",a[0].clientWidth+"px")}}),s.a.directive("popover-json",{inserted:function(t){var t=$(t),a=t.data("json");a="object"==(void 0===a?"undefined":n()(a))?r()(a,4,4):r()(JSON.parse(a),4,4),t.webuiPopover({trigger:"hover",content:function(){return"<pre>"+a+"</pre>"},width:800,height:400,closeable:!0})}}),s.a.directive("img-qiniu-logo",{inserted:function(t){var t=$(t),a=t.data("url");a&&t.attr("src",s.a._GLOBAL.qiniu.logo+a)},update:function(t){var t=$(t),a=t.data("url");a&&t.attr("src",s.a._GLOBAL.qiniu.logo+a)}})},99:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(8),n=e(38),i=e.n(n),r=e(41),s=e(39);e.n(s);e(40),o.a.config.productionTip=!1,new o.a({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})}},[99]);
//# sourceMappingURL=accountproxy.96e6c79850a02e5e6ead.js.map